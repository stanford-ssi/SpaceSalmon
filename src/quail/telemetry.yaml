slate: telemetry
name: "Quail Telemetry"
version: 1

channels:

  engn_state:
    desc: "Engine State"
    type: EngineState
    unit: enum
    default: ENGINE_IDLE
    mutable: True  

  fuel_state:
    desc: "Fuel Tank State"
    type: TankState
    unit: enum
    default: TANK_IDLE_EMPTY
    mutable: True  

  oxdz_state:
    desc: "Ox Tank State"
    type: TankState
    unit: enum
    default: TANK_IDLE_EMPTY
    mutable: True  

  oxdz_source_press:
    desc: "NOx Bottle Pressure"
    matlab: tank.record.p
    pid: PT1
    unit: Pa
    type: float
    default: 0.0
    mutable: True

  oxdz_up_press:
    desc: "NOx Prefill Pressure"
    matlab: ambient.record.p
    pid: PT2
    unit: Pa
    type: float
    default: 0.0
    mutable: True

  oxdz_down_press:
    desc: "NOx Tank Pressure"
    pid: PT3
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  pt4:
    desc: "Main Valve Pressure"
    pid: PT4
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  fuel_source_press:
    desc: "N2 Bottle Pressure"
    pid: PT5
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  fuel_up_press:
    desc: "Fuel Prefill Pressure"
    pid: PT6
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  chamber_press:
    desc: "Combustion Chamber Pressure"
    pid: PT7
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  pt8:
    desc: "PT8 Pressure"
    pid: PT8
    unit: Pa
    type: float
    default: 0.0
    mutable: False

  lc1:
    desc: "Left Load Cell"
    pid: LC1
    unit: "N"
    type: float
    default: 0.0
    mutable: False

  lc2:
    desc: "Right Load Cell"
    pid: LC2
    unit: "N"
    type: float
    default: 0.0
    mutable: False

  load_mass_offset:
    desc: "Vehicle Dry Mass"
    unit: kg
    type: float
    default: 0.0
    mutable: True

  load_mass:
    desc: "Fuel/Ox Load"
    unit: kg
    type: float
    default: 0.0
    mutable: False

  tc1:
    desc: "NOx Bottle Temp"
    pid: TC1
    unit: "K"
    type: float
    default: 0.0
    mutable: False

  tc2:
    desc: "NOx Tank Temp"
    pid: TC2
    unit: "K"
    type: float
    default: 0.0
    mutable: False

  fuel_main:
    desc: "Fuel Main Actuation"
    type: bool
    matlab: orifice
    pid: SV1
    unit: bool
    default: "false"
    mutable: True

  oxdz_main:
    desc: "Ox Main Actuation"
    type: bool
    pid: SV2
    unit: bool
    default: "false"
    mutable: True

  fuel_fill:
    desc: "Fuel Fill"
    type: bool
    pid: SV3
    unit: bool
    default: "false"
    mutable: True

  fuel_bleed:
    desc: "Fuel Bleed"
    type: bool
    pid: SV4
    unit: bool
    default: "false"
    mutable: True

  oxdz_fill:
    desc: "Ox Fill"
    type: bool
    pid: SV5
    unit: bool
    default: "false"
    mutable: True

  oxdz_bleed:
    desc: "Ox Bleed"
    type: bool
    pid: SV6
    unit: bool
    default: "false"
    mutable: True

  oxdz_vent:
    desc: "Ox Vent"
    type: bool
    pid: SV7
    unit: bool
    default: "false"
    mutable: True

  s8:
    desc: "S8"
    type: bool
    pid: SV8
    unit: bool
    default: "false"
    mutable: True

  s9:
    desc: "S9"
    type: bool
    pid: SV9
    unit: bool
    default: "false"
    mutable: True

  s10:
    desc: "S10"
    type: bool
    pid: SV10
    unit: bool
    default: "false"
    mutable: True

  s11:
    desc: "S11"
    type: bool
    pid: SV11
    unit: bool
    default: "false"
    mutable: True

  danger:
    desc: "Danger Lights"
    type: bool
    pid: SV12
    unit: bool
    default: "false"
    mutable: True

  v_batt:
    desc: "Battery Voltage"
    type: float
    unit: V
    default: 0.0
    mutable: false

  i_batt:
    desc: "Battery Current"
    type: float
    unit: A
    default: 0.0
    mutable: false

  fuel_main_pulse:
    desc: "S1 valve timer"
    type: uint16_t
    # matlab: orifice
    unit: ms
    default: 0
    mutable: True

  oxdz_main_pulse:
    desc: "S2 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  fuel_fill_pulse:
    desc: "S3 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  fuel_bleed_pulse:
    desc: "S4 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  oxdz_fill_pulse:
    desc: "S5 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  oxdz_bleed_pulse:
    desc: "S6 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  oxdz_vent_pulse:
    desc: "S7 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  s8_pulse:
    desc: "S8 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  s9_pulse:
    desc: "S9 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  s10_pulse:
    desc: "S10 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  s11_pulse:
    desc: "S11 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True
  
  s12_pulse:
    desc: "S12 valve timer"
    type: uint16_t
    unit: ms
    default: 0
    mutable: True

  fuel_op_press:
    desc: "Fuel Operating Pressure"
    type: float
    unit: Pa
    default: 0
    mutable: True

  oxdz_op_press:
    desc: "Oxidizer Operating Pressure"
    type: float
    unit: Pa
    default: 0
    mutable: True

  fuel_op_mass:
    desc: "Fuel Operating Mass"
    type: float
    unit: kg
    default: 0
    mutable: True

  oxdz_op_mass:
    desc: "Oxidizer Operating Mass"
    type: float
    unit: kg
    default: 0
    mutable: True

  error:
    desc: "Error"
    type: uint32_t
    unit: enum
    default: 0
    mutable: False

  logging:
    desc: "Logging"
    type: bool
    unit: enum
    default: 0
    mutable: False

  watchdog_counter:
    desc: "Watchdog Counter"
    type: uint32_t
    unit: ms
    default: 0
    mutable: True    

  watchdog_control:
    desc: "Watchdog Timeout Control"
    type: uint32_t
    unit: ms
    default: 0
    mutable: True

  tick:
    desc: "tick"
    type: uint32_t
    unit: ms
    default: 0
    mutable: False